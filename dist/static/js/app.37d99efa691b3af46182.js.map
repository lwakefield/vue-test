{"version":3,"sources":["webpack:///static/js/app.37d99efa691b3af46182.js","webpack:///./src/main.js","webpack:///./src/lib/resolveables.js","webpack:///App.vue","webpack:///JsonEditor.vue","webpack:///./src/App.vue","webpack:///./src/components/JsonEditor.vue","webpack:///./src/components/JsonEditor.vue?c99d","webpack:///./src/App.vue?7024"],"names":["webpackJsonp","0","module","exports","__webpack_require__","_interopRequireDefault","obj","__esModule","default","_vue","_vue2","_App","_App2","el","render","h","35","getType","url","type","RESOLVEABLE_URLS","regex","test","getEndpoint","match","resolve","endpoint","fetch","then","v","json","response","id","result","_assign2","slug","title","name","store_id","store_name","_promise2","reject","Object","defineProperty","value","_assign","_promise","collection","RegExp","category","brand","product","36","_resolveables","_JsonEditor","_JsonEditor2","components","JsonEditor","data","api","mounted","_this","this","cfExt","window","contentfulExtension","contentfulWidget","init","startAutoResizer","field","getValue","methods","_this2","update","newVal","setValue","entry","fields","37","props","intialData","watch","initialData","oldVal","updateKey","oldKey","$event","newKey","target","newData","key","$emit","deleteKey","$delete","addField","$set","isDisabled","disabled","split","indexOf","75","76","77","__vue_exports__","__vue_options__","__vue_template__","options","staticRenderFns","78","79","_vm","_h","$createElement","_c","_self","_l","staticClass","attrs","placeholder","domProps","on","input","_v","directives","rawName","expression","_s","composing","$$exp","$$idx","Array","isArray","splice","click","80","keyup","_k","keyCode","initial-data","change"],"mappings":"AAAAA,cAAc,EAAE,IAEVC,EACA,SAASC,EAAQC,EAASC,GAE/B,YAUA,SAASC,GAAuBC,GAAO,MAAOA,IAAOA,EAAIC,WAAaD,GAAQE,QAASF,GCfxF,GAAAG,GAAAL,EAAA,IDSKM,EAAQL,EAAuBI,GCRpCE,EAAAP,EAAA,IDYKQ,EAAQP,EAAuBM,ECTpC,IAAAD,GAAAF,SACEK,GAAI,OACJC,OAAQ,SAAAC,GAAA,MAAKA,kBDoBTC,GACA,SAASd,EAAQC,EAASC,GAE/B,YAkBA,SAASC,GAAuBC,GAAO,MAAOA,IAAOA,EAAIC,WAAaD,GAAQE,QAASF,GEvCjF,QAASW,GAASC,GACvB,IAAK,GAAMC,KAAQC,GAAkB,CACnC,GAAMC,GAAQD,EAAiBD,EAC/B,IAAIE,EAAMC,KAAKJ,GAAM,MAAOC,GAE9B,MAAO,MAGF,QAASI,GAAaL,GAC3B,GAAMC,GAAOF,EAAQC,GACfG,EAAQD,EAAiBD,GAEzBK,EAAQN,EAAIM,MAAMH,EAExB,OAAKG,GAEQ,eAATL,EACF,6CAAoDK,EAAM,GACxC,YAATL,EACF,8CACAK,EAAM,GADN,8BACsCA,EAAM,IACjC,UAATL,EACF,8CACAK,EAAM,GADN,gBAEW,aAATL,EACT,8CAAqDK,EAAM,GAGtD,KAdY,KAiBd,QAASC,GAASP,GACvB,GAAMQ,GAAWH,EAAYL,GACvBC,EAAOF,EAAQC,EACrB,OAAKQ,GAEEC,MAAMD,GACVE,KAAK,SAAAC,GAAA,MAAKA,GAAEC,SACZF,KAAK,SAAAG,GAAY,GACTC,GAAMD,EAANC,GACDC,GAAUD,KAAIb,OAAMD,MAuB1B,OArBa,eAATC,GACF,EAAAe,EAAA1B,SAAcyB,GACZE,KAAMJ,EAASI,KACfC,MAAOL,EAASM,OAEA,YAATlB,GACT,EAAAe,EAAA1B,SAAcyB,GACZK,SAAUP,EAASO,SACnBF,MAAUL,EAASQ,WAAnB,MAAmCR,EAASK,QAE5B,UAATjB,GACT,EAAAe,EAAA1B,SAAcyB,GACZG,MAAOL,EAASM,OAEA,aAATlB,IACT,EAAAe,EAAA1B,SAAcyB,GACZE,KAAMJ,EAASI,KACfC,MAAOL,EAASM,OAIbJ,IA7BWO,EAAAhC,QAAQiC,OAAR,0BAAyCvB,GFXhEwB,OAAOC,eAAexC,EAAS,cAC7ByC,OAAO,GAGT,IAAIC,GAAUzC,EAAoB,IAE9B8B,EAAW7B,EAAuBwC,GAElCC,EAAW1C,EAAoB,IAE/BoC,EAAYnC,EAAuByC,EAEvC3C,GEnCec,UFoCfd,EE5BeoB,cF6BfpB,EENesB,SArChB,IAAML,IACJ2B,WAAYC,OAAO,oDACnBC,SAAUD,OAAO,mDACjBE,MAAOF,OAAO,0CACdG,QAASH,OAAO,oDFqHZI,GACA,SAASlD,EAAQC,EAASC,GAE/B,YAYA,SAASC,GAAuBC,GAAO,MAAOA,IAAOA,EAAIC,WAAaD,GAAQE,QAASF,GAVvFoC,OAAOC,eAAexC,EAAS,cAC7ByC,OAAO,GGvGV,IAAAS,GAAAjD,EAAA,IAGAkD,EAAAlD,EAAA,IH2GKmD,EAAelD,EAAuBiD,EAI1CnD,GAAQK,SACN6B,KG9GH,MH+GGmB,YG9GHC,WAAAF,EAAA/C,SH+GGkD,KAAM,WACJ,OACExC,IG9GP,GH+GOwC,QACAC,IG7GP,OHgHGC,QAAS,WG9GZ,GAAAC,GAAAC,KHiHSC,EAAQC,OAAOC,qBAAuBD,OGhH/CE,gBHiHKH,GAAMI,KAAK,SAAUR,GACnBE,EAAMF,IGhHbA,EHiHOA,EAAIK,OGhHXI,mBHiHOP,EAAMH,KAAOC,EAAIU,MGhHxBC,WHiHWT,EAAMH,MAAQG,EAAMH,KAAKxC,MAC3B2C,EAAM3C,IAAM2C,EAAMH,KGhH3BxC,QHqHGqD,SACE5C,MAAO,WGjHZ,GAAA6C,GAAAV,MHoHO,EAAIT,EAAc5B,SAASqC,KAAK5C,KAAKU,KAAK,SAAUC,GAClD2C,EAAOd,KGnHhB7B,KHsHK4C,OAAQ,SAAgBC,GACtBZ,KAAKJ,KGnHZgB,EHoHWZ,KAAKH,MACPG,KAAKH,IAAIU,MAAMM,SAASb,KGnHjCJ,MHoHaI,KAAKH,IAAIiB,MAAMC,OAAOzC,OACxB0B,KAAKH,IAAIiB,MAAMC,OAAOzC,MAAMuC,SAASb,KAAKJ,KGnHrDtB,YH4HM0C,GACA,SAAS5E,EAAQC,GAEtB,YAEAuC,QAAOC,eAAexC,EAAS,cAC7ByC,OAAO,IAETzC,EAAQK,SACN6B,KIhKH,cJiKG0C,OAAQ,cIhKX,YJiKGrB,KAAM,WACJ,OACEA,KAAMI,KI/JbkB,aJmKGC,OACEC,YAAa,SAAqBR,EAAQS,GACpCT,IAAWS,IACbrB,KAAKJ,KIjKdgB,KJqKGH,SACEa,UAAW,SAAmBC,EAAQC,GACpC,GAAIC,GAASD,EAAOE,OIjK3B5C,MJkKW6C,IACJ,KAAK,GAAIC,KAAO5B,MAAKJ,KACnB+B,EAAQC,IAAQL,EAASE,EAASG,GAAO5B,KAAKJ,KIjKvDgC,EJoKO5B,MAAKJ,KIjKZ+B,EJkKO3B,KAAK6B,MAAM,SAAU7B,KIjK5BJ,OJmKKkC,UAAW,SAAmBF,GAC5B5B,KAAK+B,QAAQ/B,KAAKJ,KIjKzBgC,IJmKKI,SAAU,WACRhC,KAAKiC,KAAKjC,KAAKJ,KAAM,YIjK5B,KJmKKsC,WAAY,SAAoBN,GAC9B,MAAO5B,MAAKmC,SAASC,MAAM,KAAKC,QAAQT,MAAS,MAOlDU,GACA,SAASlG,EAAQC,KAMjBkG,GACA,SAASnG,EAAQC,KAMjBmG,GACA,SAASpG,EAAQC,EAASC,GK1PhC,GAAAmG,GAAAC,CAIApG,GAAA,IAGAmG,EAAAnG,EAAA,GAGA,IAAAqG,GAAArG,EAAA,GACAoG,GAAAD,QAEA,gBAAAA,GAAA/F,SACA,kBAAA+F,GAAA/F,UAEAgG,EAAAD,IAAA/F,SAEA,kBAAAgG,KACAA,IAAAE,SAGAF,EAAA1F,OAAA2F,EAAA3F,OACA0F,EAAAG,gBAAAF,EAAAE,gBAEAzG,EAAAC,QAAAoG,GLiQMK,GACA,SAAS1G,EAAQC,EAASC,GM3RhC,GAAAmG,GAAAC,CAIApG,GAAA,IAGAmG,EAAAnG,EAAA,GAGA,IAAAqG,GAAArG,EAAA,GACAoG,GAAAD,QAEA,gBAAAA,GAAA/F,SACA,kBAAA+F,GAAA/F,UAEAgG,EAAAD,IAAA/F,SAEA,kBAAAgG,KACAA,IAAAE,SAGAF,EAAA1F,OAAA2F,EAAA3F,OACA0F,EAAAG,gBAAAF,EAAAE,gBAEAzG,EAAAC,QAAAoG,GNkSMM,GACA,SAAS3G,EAAQC,GO5TvBD,EAAAC,SAAgBW,OAAA,WAAmB,GAAAgG,GAAAhD,KAAaiD,EAAAD,EAAAE,eAA0BC,EAAAH,EAAAI,MAAAD,IAAAF,CAC1E,OAAAE,GAAA,OAAAH,EAAAK,GAAAL,EAAA,cAAAlE,EAAA8C,GACA,MAAAuB,GAAA,OACAG,YAAA,iCACKH,EAAA,SACLG,YAAA,0BACAC,OACAlG,KAAA,OACAmG,YAAA,YACArB,SAAAa,EAAAd,WAAAN,IAEA6B,UACA3E,MAAA8C,GAEA8B,IACAC,MAAA,SAAAnC,GACAwB,EAAA1B,UAAAM,EAAAJ,OAGKwB,EAAAY,GAAA,KAAAT,EAAA,SACLU,aACAtF,KAAA,QACAuF,QAAA,UACAhF,MAAAkE,EAAApD,KAAAgC,GACAmC,WAAA,cAEAT,YAAA,0BACAC,OACAlG,KAAA,OACAmG,YAAA,cACArB,SAAAa,EAAAd,WAAAN,IAEA6B,UACA3E,MAAAkE,EAAAgB,GAAAhB,EAAApD,KAAAgC,KAEA8B,IACAC,MAAA,SAAAnC,GACA,IAAAA,EAAAE,OAAAuC,UAAA,CACA,GAAAC,GAAAlB,EAAApD,KACAuE,EAAAvC,CACAwC,OAAAC,QAAAH,GAGAA,EAAAI,OAAAH,EAAA,EAAA3C,EAAAE,OAAA5C,OAFAkE,EAAApD,KAAAgC,GAAAJ,EAAAE,OAAA5C,WAMKkE,EAAAY,GAAA,KAAAT,EAAA,UACLG,YAAA,8BACAC,OACApB,SAAAa,EAAAd,WAAAN,IAEA8B,IACAa,MAAA,SAAA/C,GACAwB,EAAAlB,UAAAF,OAGKuB,EAAA,QAAAH,EAAAY,GAAA,aACFZ,EAAAY,GAAA,KAAAT,EAAA,UACHG,YAAA,0BACAI,IACAa,MAAAvB,EAAAhB,YAEGgB,EAAAY,GAAA,gCACFf,qBPkUK2B,GACA,SAASpI,EAAQC,GQnYvBD,EAAAC,SAAgBW,OAAA,WAAmB,GAAAgG,GAAAhD,KAAaiD,EAAAD,EAAAE,eAA0BC,EAAAH,EAAAI,MAAAD,IAAAF,CAC1E,OAAAE,GAAA,OACAI,OACArF,GAAA,SAEGiF,EAAA,OACHG,YAAA,oBACGH,EAAA,SACHU,aACAtF,KAAA,QACAuF,QAAA,UACAhF,MAAAkE,EAAA,IACAe,WAAA,QAEAT,YAAA,2BACAC,OACAlG,KAAA,QAEAoG,UACA3E,MAAAkE,EAAAgB,GAAAhB,EAAA5F,MAEAsG,IACAe,MAAA,SAAAjD,GACAwB,EAAA0B,GAAAlD,EAAAmD,QAAA,aACA3B,EAAAnF,MAAA2D,IAEAmC,MAAA,SAAAnC,GACAA,EAAAE,OAAAuC,YACAjB,EAAA5F,IAAAoE,EAAAE,OAAA5C,WAGGkE,EAAAY,GAAA,KAAAT,EAAA,UACHG,YAAA,iBACAI,IACAa,MAAAvB,EAAAnF,SAEGmF,EAAAY,GAAA,2BAAAZ,EAAAY,GAAA,KAAAT,EAAA,eACHI,OACAqB,eAAA5B,EAAApD,KACAuC,SAAA,oBAEAuB,IACAmB,OAAA7B,EAAArC,WAEG,IACFkC","file":"static/js/app.37d99efa691b3af46182.js","sourcesContent":["webpackJsonp([2,0],{\n\n/***/ 0:\n/***/ function(module, exports, __webpack_require__) {\n\n\t'use strict';\n\t\n\tvar _vue = __webpack_require__(81);\n\t\n\tvar _vue2 = _interopRequireDefault(_vue);\n\t\n\tvar _App = __webpack_require__(77);\n\t\n\tvar _App2 = _interopRequireDefault(_App);\n\t\n\tfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\t\n\tnew _vue2.default({\n\t  el: '#app',\n\t  render: function render(h) {\n\t    return h(_App2.default);\n\t  }\n\t});\n\n/***/ },\n\n/***/ 35:\n/***/ function(module, exports, __webpack_require__) {\n\n\t'use strict';\n\t\n\tObject.defineProperty(exports, \"__esModule\", {\n\t  value: true\n\t});\n\t\n\tvar _assign = __webpack_require__(38);\n\t\n\tvar _assign2 = _interopRequireDefault(_assign);\n\t\n\tvar _promise = __webpack_require__(39);\n\t\n\tvar _promise2 = _interopRequireDefault(_promise);\n\t\n\texports.getType = getType;\n\texports.getEndpoint = getEndpoint;\n\texports.resolve = resolve;\n\t\n\tfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\t\n\tvar RESOLVEABLE_URLS = {\n\t  collection: RegExp('https://tictail.com/collections/([^/?]+)(\\\\?.*)?'),\n\t  category: RegExp('https://tictail.com/categories/([^/?]+)(\\\\?.*)?'),\n\t  brand: RegExp('https://tictail.com/s/([^/?]+)(\\\\?.*)?'),\n\t  product: RegExp('https://tictail.com/s/([^/]+)/([^/?]+)(\\\\?.*)?')\n\t};\n\tfunction getType(url) {\n\t  for (var type in RESOLVEABLE_URLS) {\n\t    var regex = RESOLVEABLE_URLS[type];\n\t    if (regex.test(url)) return type;\n\t  }\n\t  return null;\n\t}\n\t\n\tfunction getEndpoint(url) {\n\t  var type = getType(url);\n\t  var regex = RESOLVEABLE_URLS[type];\n\t\n\t  var match = url.match(regex);\n\t\n\t  if (!match) return null;\n\t\n\t  if (type === 'collection') {\n\t    return 'https://api.tictail.com/v1.12/collections/' + match[1];\n\t  } else if (type === 'product') {\n\t    return 'https://api.tictail.com/v1.12/stores/' + ('d_' + match[1] + '.tictail.com/products?slug=' + match[2]);\n\t  } else if (type === 'brand') {\n\t    return 'https://api.tictail.com/v1.12/stores/' + ('d_' + match[1] + '.tictail.com');\n\t  } else if (type === 'category') {\n\t    return 'https://api.tictail.com/v1.12/categories/s_' + match[1];\n\t  }\n\t\n\t  return null;\n\t}\n\t\n\tfunction resolve(url) {\n\t  var endpoint = getEndpoint(url);\n\t  var type = getType(url);\n\t  if (!endpoint) return _promise2.default.reject('unable to resolve url: ' + url);\n\t\n\t  return fetch(endpoint).then(function (v) {\n\t    return v.json();\n\t  }).then(function (response) {\n\t    var id = response.id;\n\t\n\t    var result = { id: id, type: type, url: url };\n\t\n\t    if (type === 'collection') {\n\t      (0, _assign2.default)(result, {\n\t        slug: response.slug,\n\t        title: response.name\n\t      });\n\t    } else if (type === 'product') {\n\t      (0, _assign2.default)(result, {\n\t        store_id: response.store_id,\n\t        title: response.store_name + ' - ' + response.title\n\t      });\n\t    } else if (type === 'brand') {\n\t      (0, _assign2.default)(result, {\n\t        title: response.name\n\t      });\n\t    } else if (type === 'category') {\n\t      (0, _assign2.default)(result, {\n\t        slug: response.slug,\n\t        title: response.name\n\t      });\n\t    }\n\t\n\t    return result;\n\t  });\n\t}\n\n/***/ },\n\n/***/ 36:\n/***/ function(module, exports, __webpack_require__) {\n\n\t'use strict';\n\t\n\tObject.defineProperty(exports, \"__esModule\", {\n\t  value: true\n\t});\n\t\n\tvar _resolveables = __webpack_require__(35);\n\t\n\tvar _JsonEditor = __webpack_require__(78);\n\t\n\tvar _JsonEditor2 = _interopRequireDefault(_JsonEditor);\n\t\n\tfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\t\n\texports.default = {\n\t  name: 'app',\n\t  components: { JsonEditor: _JsonEditor2.default },\n\t  data: function data() {\n\t    return {\n\t      url: '',\n\t      data: {},\n\t      api: null\n\t    };\n\t  },\n\t  mounted: function mounted() {\n\t    var _this = this;\n\t\n\t    var cfExt = window.contentfulExtension || window.contentfulWidget;\n\t    cfExt.init(function (api) {\n\t      _this.api = api;\n\t      api.window.startAutoResizer();\n\t      _this.data = api.field.getValue();\n\t      if (_this.data && _this.data.url) {\n\t        _this.url = _this.data.url;\n\t      }\n\t    });\n\t  },\n\t\n\t  methods: {\n\t    fetch: function fetch() {\n\t      var _this2 = this;\n\t\n\t      (0, _resolveables.resolve)(this.url).then(function (v) {\n\t        _this2.data = v;\n\t      });\n\t    },\n\t    update: function update(newVal) {\n\t      this.data = newVal;\n\t      if (this.api) {\n\t        this.api.field.setValue(this.data);\n\t        if (this.api.entry.fields.title) {\n\t          this.api.entry.fields.title.setValue(this.data.title);\n\t        }\n\t      }\n\t    }\n\t  }\n\t};\n\n/***/ },\n\n/***/ 37:\n/***/ function(module, exports) {\n\n\t'use strict';\n\t\n\tObject.defineProperty(exports, \"__esModule\", {\n\t  value: true\n\t});\n\texports.default = {\n\t  name: 'json-editor',\n\t  props: ['initialData', 'disabled'],\n\t  data: function data() {\n\t    return {\n\t      data: this.intialData\n\t    };\n\t  },\n\t\n\t  watch: {\n\t    initialData: function initialData(newVal, oldVal) {\n\t      if (newVal !== oldVal) {\n\t        this.data = newVal;\n\t      }\n\t    }\n\t  },\n\t  methods: {\n\t    updateKey: function updateKey(oldKey, $event) {\n\t      var newKey = $event.target.value;\n\t      var newData = {};\n\t      for (var key in this.data) {\n\t        newData[key === oldKey ? newKey : key] = this.data[key];\n\t      }\n\t\n\t      this.data = newData;\n\t      this.$emit('change', this.data);\n\t    },\n\t    deleteKey: function deleteKey(key) {\n\t      this.$delete(this.data, key);\n\t    },\n\t    addField: function addField() {\n\t      this.$set(this.data, 'new-field', '');\n\t    },\n\t    isDisabled: function isDisabled(key) {\n\t      return this.disabled.split(',').indexOf(key) !== -1;\n\t    }\n\t  }\n\t};\n\n/***/ },\n\n/***/ 75:\n/***/ function(module, exports) {\n\n\t// removed by extract-text-webpack-plugin\n\n/***/ },\n\n/***/ 76:\n/***/ function(module, exports) {\n\n\t// removed by extract-text-webpack-plugin\n\n/***/ },\n\n/***/ 77:\n/***/ function(module, exports, __webpack_require__) {\n\n\tvar __vue_exports__, __vue_options__\n\tvar __vue_styles__ = {}\n\t\n\t/* styles */\n\t__webpack_require__(76)\n\t\n\t/* script */\n\t__vue_exports__ = __webpack_require__(36)\n\t\n\t/* template */\n\tvar __vue_template__ = __webpack_require__(80)\n\t__vue_options__ = __vue_exports__ = __vue_exports__ || {}\n\tif (\n\t  typeof __vue_exports__.default === \"object\" ||\n\t  typeof __vue_exports__.default === \"function\"\n\t) {\n\t__vue_options__ = __vue_exports__ = __vue_exports__.default\n\t}\n\tif (typeof __vue_options__ === \"function\") {\n\t  __vue_options__ = __vue_options__.options\n\t}\n\t\n\t__vue_options__.render = __vue_template__.render\n\t__vue_options__.staticRenderFns = __vue_template__.staticRenderFns\n\t\n\tmodule.exports = __vue_exports__\n\n\n/***/ },\n\n/***/ 78:\n/***/ function(module, exports, __webpack_require__) {\n\n\tvar __vue_exports__, __vue_options__\n\tvar __vue_styles__ = {}\n\t\n\t/* styles */\n\t__webpack_require__(75)\n\t\n\t/* script */\n\t__vue_exports__ = __webpack_require__(37)\n\t\n\t/* template */\n\tvar __vue_template__ = __webpack_require__(79)\n\t__vue_options__ = __vue_exports__ = __vue_exports__ || {}\n\tif (\n\t  typeof __vue_exports__.default === \"object\" ||\n\t  typeof __vue_exports__.default === \"function\"\n\t) {\n\t__vue_options__ = __vue_exports__ = __vue_exports__.default\n\t}\n\tif (typeof __vue_options__ === \"function\") {\n\t  __vue_options__ = __vue_options__.options\n\t}\n\t\n\t__vue_options__.render = __vue_template__.render\n\t__vue_options__.staticRenderFns = __vue_template__.staticRenderFns\n\t\n\tmodule.exports = __vue_exports__\n\n\n/***/ },\n\n/***/ 79:\n/***/ function(module, exports) {\n\n\tmodule.exports={render:function (){var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;\n\t  return _c('div', [_vm._l((_vm.data), function(value, key) {\n\t    return _c('div', {\n\t      staticClass: \"row row--nowrap row--vcenter\"\n\t    }, [_c('input', {\n\t      staticClass: \"field-key cf-form-input\",\n\t      attrs: {\n\t        \"type\": \"text\",\n\t        \"placeholder\": \"Field Key\",\n\t        \"disabled\": _vm.isDisabled(key)\n\t      },\n\t      domProps: {\n\t        \"value\": key\n\t      },\n\t      on: {\n\t        \"input\": function($event) {\n\t          _vm.updateKey(key, $event)\n\t        }\n\t      }\n\t    }), _vm._v(\" \"), _c('input', {\n\t      directives: [{\n\t        name: \"model\",\n\t        rawName: \"v-model\",\n\t        value: (_vm.data[key]),\n\t        expression: \"data[key]\"\n\t      }],\n\t      staticClass: \"field-val cf-form-input\",\n\t      attrs: {\n\t        \"type\": \"text\",\n\t        \"placeholder\": \"Field Value\",\n\t        \"disabled\": _vm.isDisabled(key)\n\t      },\n\t      domProps: {\n\t        \"value\": _vm._s(_vm.data[key])\n\t      },\n\t      on: {\n\t        \"input\": function($event) {\n\t          if ($event.target.composing) { return; }\n\t          var $$exp = _vm.data,\n\t            $$idx = key;\n\t          if (!Array.isArray($$exp)) {\n\t            _vm.data[key] = $event.target.value\n\t          } else {\n\t            $$exp.splice($$idx, 1, $event.target.value)\n\t          }\n\t        }\n\t      }\n\t    }), _vm._v(\" \"), _c('button', {\n\t      staticClass: \"cf-btn-secondary delete-btn\",\n\t      attrs: {\n\t        \"disabled\": _vm.isDisabled(key)\n\t      },\n\t      on: {\n\t        \"click\": function($event) {\n\t          _vm.deleteKey(key)\n\t        }\n\t      }\n\t    }, [_c('span', [_vm._v(\"×\")])])])\n\t  }), _vm._v(\" \"), _c('button', {\n\t    staticClass: \"cf-btn-primary cf-block\",\n\t    on: {\n\t      \"click\": _vm.addField\n\t    }\n\t  }, [_vm._v(\"\\n    + Add Field\\n  \")])], 2)\n\t},staticRenderFns: []}\n\n/***/ },\n\n/***/ 80:\n/***/ function(module, exports) {\n\n\tmodule.exports={render:function (){var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;\n\t  return _c('div', {\n\t    attrs: {\n\t      \"id\": \"app\"\n\t    }\n\t  }, [_c('div', {\n\t    staticClass: \"row row--nowrap\"\n\t  }, [_c('input', {\n\t    directives: [{\n\t      name: \"model\",\n\t      rawName: \"v-model\",\n\t      value: (_vm.url),\n\t      expression: \"url\"\n\t    }],\n\t    staticClass: \"cf-form-input flex--grow\",\n\t    attrs: {\n\t      \"type\": \"text\"\n\t    },\n\t    domProps: {\n\t      \"value\": _vm._s(_vm.url)\n\t    },\n\t    on: {\n\t      \"keyup\": function($event) {\n\t        if (_vm._k($event.keyCode, \"enter\", 13)) { return; }\n\t        _vm.fetch($event)\n\t      },\n\t      \"input\": function($event) {\n\t        if ($event.target.composing) { return; }\n\t        _vm.url = $event.target.value\n\t      }\n\t    }\n\t  }), _vm._v(\" \"), _c('button', {\n\t    staticClass: \"cf-btn-primary\",\n\t    on: {\n\t      \"click\": _vm.fetch\n\t    }\n\t  }, [_vm._v(\"\\n      Fetch\\n    \")])]), _vm._v(\" \"), _c('json-editor', {\n\t    attrs: {\n\t      \"initial-data\": _vm.data,\n\t      \"disabled\": \"id,slug,url,type\"\n\t    },\n\t    on: {\n\t      \"change\": _vm.update\n\t    }\n\t  })], 1)\n\t},staticRenderFns: []}\n\n/***/ }\n\n});\n\n\n// WEBPACK FOOTER //\n// static/js/app.37d99efa691b3af46182.js","import Vue from 'vue'\nimport App from './App'\n\n/* eslint-disable no-new */\nnew Vue({\n  el: '#app',\n  render: h => h(App)\n})\n\n\n\n// WEBPACK FOOTER //\n// ./src/main.js","/* global fetch */\n\nconst RESOLVEABLE_URLS = {\n  collection: RegExp('https://tictail.com/collections/([^/?]+)(\\\\?.*)?'),\n  category: RegExp('https://tictail.com/categories/([^/?]+)(\\\\?.*)?'),\n  brand: RegExp('https://tictail.com/s/([^/?]+)(\\\\?.*)?'),\n  product: RegExp('https://tictail.com/s/([^/]+)/([^/?]+)(\\\\?.*)?')\n}\nexport function getType (url) {\n  for (const type in RESOLVEABLE_URLS) {\n    const regex = RESOLVEABLE_URLS[type]\n    if (regex.test(url)) return type\n  }\n  return null\n}\n\nexport function getEndpoint (url) {\n  const type = getType(url)\n  const regex = RESOLVEABLE_URLS[type]\n\n  const match = url.match(regex)\n\n  if (!match) return null\n\n  if (type === 'collection') {\n    return `https://api.tictail.com/v1.12/collections/${match[1]}`\n  } else if (type === 'product') {\n    return `https://api.tictail.com/v1.12/stores/` +\n      `d_${match[1]}.tictail.com/products?slug=${match[2]}`\n  } else if (type === 'brand') {\n    return `https://api.tictail.com/v1.12/stores/` +\n      `d_${match[1]}.tictail.com`\n  } else if (type === 'category') {\n    return `https://api.tictail.com/v1.12/categories/s_${match[1]}`\n  }\n\n  return null\n}\n\nexport function resolve (url) {\n  const endpoint = getEndpoint(url)\n  const type = getType(url)\n  if (!endpoint) return Promise.reject(`unable to resolve url: ${url}`)\n\n  return fetch(endpoint)\n    .then(v => v.json())\n    .then(response => {\n      const {id} = response\n      const result = {id, type, url}\n\n      if (type === 'collection') {\n        Object.assign(result, {\n          slug: response.slug,\n          title: response.name\n        })\n      } else if (type === 'product') {\n        Object.assign(result, {\n          store_id: response.store_id,\n          title: `${response.store_name} - ${response.title}`\n        })\n      } else if (type === 'brand') {\n        Object.assign(result, {\n          title: response.name\n        })\n      } else if (type === 'category') {\n        Object.assign(result, {\n          slug: response.slug,\n          title: response.name\n        })\n      }\n\n      return result\n    })\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/lib/resolveables.js","<template>\n  <div id=\"app\">\n    <div class=\"row row--nowrap\">\n      <input\n        type=\"text\"\n        v-model=\"url\"\n        class=\"cf-form-input flex--grow\"\n        @keyup.enter=\"fetch\"\n      >\n      <button\n        @click=\"fetch\"\n        class=\"cf-btn-primary\"\n      >\n        Fetch\n      </button>\n    </div>\n\n    <json-editor\n      :initial-data=\"data\"\n      @change=\"update\"\n      disabled=\"id,slug,url,type\"\n    />\n  </div>\n</template>\n\n<script>\nimport {resolve} from 'lib/resolveables'\nimport JsonEditor from 'components/JsonEditor'\n\nexport default {\n  name: 'app',\n  components: { JsonEditor },\n  data () {\n    return {\n      url: '',\n      data: {},\n      api: null\n    }\n  },\n  mounted () {\n    const cfExt = window.contentfulExtension || window.contentfulWidget\n    cfExt.init(api => {\n      this.api = api\n      api.window.startAutoResizer()\n      this.data = api.field.getValue()\n      if (this.data && this.data.url) {\n        this.url = this.data.url\n      }\n    })\n  },\n  methods: {\n    fetch () {\n      resolve(this.url).then(v => {\n        this.data = v\n      })\n    },\n    update (newVal) {\n      this.data = newVal\n      if (this.api) {\n        this.api.field.setValue(this.data)\n        if (this.api.entry.fields.title) {\n          this.api.entry.fields.title.setValue(this.data.title)\n        }\n      }\n    }\n  }\n}\n</script>\n\n<style>\n* {\n  box-sizing: border-box;\n}\n#app {\n  display: flex;\n  flex-flow: column nowrap;\n}\ninput {\n  margin: 0.5rem;\n}\n.row {\n  display: flex;\n  flex-direction: row;\n}\n.row--wrap {\n  flex-wrap: wrap;\n}\n.row--nowrap {\n  flex-wrap: nowrap;\n}\n.row--vcenter {\n  align-items: center;\n}\n.flex--grow {\n  flex-grow: 1;\n}\n</style>\n\n\n\n// WEBPACK FOOTER //\n// App.vue?6e6da20e","<template>\n  <div>\n    <div v-for=\"(value, key) of data\" class=\"row row--nowrap row--vcenter\">\n      <input\n        type=\"text\"\n        :value=\"key\"\n        @input=\"updateKey(key, $event)\"\n        class=\"field-key cf-form-input\"\n        placeholder=\"Field Key\"\n        :disabled=\"isDisabled(key)\"\n      >\n      <input\n        type=\"text\"\n        v-model=\"data[key]\"\n        class=\"field-val cf-form-input\"\n        placeholder=\"Field Value\"\n        :disabled=\"isDisabled(key)\"\n      >\n      <button\n        class=\"cf-btn-secondary delete-btn\"\n        :disabled=\"isDisabled(key)\"\n        @click=\"deleteKey(key)\"\n      >\n      <span>&times;</span>\n      </button>\n    </div>\n    <button class=\"cf-btn-primary cf-block\" @click=\"addField\">\n      + Add Field\n    </button>\n  </div>\n</template>\n\n<script>\nexport default {\n  name: 'json-editor',\n  props: ['initialData', 'disabled'],\n  data () {\n    return {\n      data: this.intialData\n    }\n  },\n  watch: {\n    initialData (newVal, oldVal) {\n      if (newVal !== oldVal) {\n        this.data = newVal\n      }\n    }\n  },\n  methods: {\n    updateKey (oldKey, $event) {\n      const newKey = $event.target.value\n      const newData = {}\n      for (const key in this.data) {\n        newData[key === oldKey ? newKey : key] = this.data[key]\n      }\n\n      this.data = newData\n      this.$emit('change', this.data)\n    },\n    deleteKey (key) {\n      this.$delete(this.data, key)\n    },\n    addField () {\n      this.$set(this.data, 'new-field', '')\n    },\n    isDisabled (key) {\n      return this.disabled.split(',').indexOf(key) !== -1\n    }\n  }\n}\n</script>\n\n<style>\n.delete-btn--hide {\n  visibility: hidden;\n}\n.field-key {\n  max-width: 16rem;\n}\n.delete-btn {\n  padding: 0.5rem;\n  display: flex;\n  justify-content: center;\n  align-items: center;\n}\n</style>\n\n\n\n\n// WEBPACK FOOTER //\n// JsonEditor.vue?514fcbb6","var __vue_exports__, __vue_options__\nvar __vue_styles__ = {}\n\n/* styles */\nrequire(\"!!./../node_modules/extract-text-webpack-plugin/loader.js?{\\\"omit\\\":1,\\\"extract\\\":true,\\\"remove\\\":true}!vue-style-loader!css-loader?sourceMap!vue-loader/lib/style-rewriter?id=data-v-b4b541ce!vue-loader/lib/selector?type=styles&index=0!./App.vue\")\n\n/* script */\n__vue_exports__ = require(\"!!babel-loader!vue-loader/lib/selector?type=script&index=0!./App.vue\")\n\n/* template */\nvar __vue_template__ = require(\"!!vue-loader/lib/template-compiler?id=data-v-b4b541ce!vue-loader/lib/selector?type=template&index=0!./App.vue\")\n__vue_options__ = __vue_exports__ = __vue_exports__ || {}\nif (\n  typeof __vue_exports__.default === \"object\" ||\n  typeof __vue_exports__.default === \"function\"\n) {\n__vue_options__ = __vue_exports__ = __vue_exports__.default\n}\nif (typeof __vue_options__ === \"function\") {\n  __vue_options__ = __vue_options__.options\n}\n\n__vue_options__.render = __vue_template__.render\n__vue_options__.staticRenderFns = __vue_template__.staticRenderFns\n\nmodule.exports = __vue_exports__\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/App.vue\n// module id = 77\n// module chunks = 2","var __vue_exports__, __vue_options__\nvar __vue_styles__ = {}\n\n/* styles */\nrequire(\"!!./../../node_modules/extract-text-webpack-plugin/loader.js?{\\\"omit\\\":1,\\\"extract\\\":true,\\\"remove\\\":true}!vue-style-loader!css-loader?sourceMap!vue-loader/lib/style-rewriter?id=data-v-1bb86bc6!vue-loader/lib/selector?type=styles&index=0!./JsonEditor.vue\")\n\n/* script */\n__vue_exports__ = require(\"!!babel-loader!vue-loader/lib/selector?type=script&index=0!./JsonEditor.vue\")\n\n/* template */\nvar __vue_template__ = require(\"!!vue-loader/lib/template-compiler?id=data-v-1bb86bc6!vue-loader/lib/selector?type=template&index=0!./JsonEditor.vue\")\n__vue_options__ = __vue_exports__ = __vue_exports__ || {}\nif (\n  typeof __vue_exports__.default === \"object\" ||\n  typeof __vue_exports__.default === \"function\"\n) {\n__vue_options__ = __vue_exports__ = __vue_exports__.default\n}\nif (typeof __vue_options__ === \"function\") {\n  __vue_options__ = __vue_options__.options\n}\n\n__vue_options__.render = __vue_template__.render\n__vue_options__.staticRenderFns = __vue_template__.staticRenderFns\n\nmodule.exports = __vue_exports__\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/components/JsonEditor.vue\n// module id = 78\n// module chunks = 2","module.exports={render:function (){var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;\n  return _c('div', [_vm._l((_vm.data), function(value, key) {\n    return _c('div', {\n      staticClass: \"row row--nowrap row--vcenter\"\n    }, [_c('input', {\n      staticClass: \"field-key cf-form-input\",\n      attrs: {\n        \"type\": \"text\",\n        \"placeholder\": \"Field Key\",\n        \"disabled\": _vm.isDisabled(key)\n      },\n      domProps: {\n        \"value\": key\n      },\n      on: {\n        \"input\": function($event) {\n          _vm.updateKey(key, $event)\n        }\n      }\n    }), _vm._v(\" \"), _c('input', {\n      directives: [{\n        name: \"model\",\n        rawName: \"v-model\",\n        value: (_vm.data[key]),\n        expression: \"data[key]\"\n      }],\n      staticClass: \"field-val cf-form-input\",\n      attrs: {\n        \"type\": \"text\",\n        \"placeholder\": \"Field Value\",\n        \"disabled\": _vm.isDisabled(key)\n      },\n      domProps: {\n        \"value\": _vm._s(_vm.data[key])\n      },\n      on: {\n        \"input\": function($event) {\n          if ($event.target.composing) { return; }\n          var $$exp = _vm.data,\n            $$idx = key;\n          if (!Array.isArray($$exp)) {\n            _vm.data[key] = $event.target.value\n          } else {\n            $$exp.splice($$idx, 1, $event.target.value)\n          }\n        }\n      }\n    }), _vm._v(\" \"), _c('button', {\n      staticClass: \"cf-btn-secondary delete-btn\",\n      attrs: {\n        \"disabled\": _vm.isDisabled(key)\n      },\n      on: {\n        \"click\": function($event) {\n          _vm.deleteKey(key)\n        }\n      }\n    }, [_c('span', [_vm._v(\"×\")])])])\n  }), _vm._v(\" \"), _c('button', {\n    staticClass: \"cf-btn-primary cf-block\",\n    on: {\n      \"click\": _vm.addField\n    }\n  }, [_vm._v(\"\\n    + Add Field\\n  \")])], 2)\n},staticRenderFns: []}\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/vue-loader/lib/template-compiler.js?id=data-v-1bb86bc6!./~/vue-loader/lib/selector.js?type=template&index=0!./src/components/JsonEditor.vue\n// module id = 79\n// module chunks = 2","module.exports={render:function (){var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;\n  return _c('div', {\n    attrs: {\n      \"id\": \"app\"\n    }\n  }, [_c('div', {\n    staticClass: \"row row--nowrap\"\n  }, [_c('input', {\n    directives: [{\n      name: \"model\",\n      rawName: \"v-model\",\n      value: (_vm.url),\n      expression: \"url\"\n    }],\n    staticClass: \"cf-form-input flex--grow\",\n    attrs: {\n      \"type\": \"text\"\n    },\n    domProps: {\n      \"value\": _vm._s(_vm.url)\n    },\n    on: {\n      \"keyup\": function($event) {\n        if (_vm._k($event.keyCode, \"enter\", 13)) { return; }\n        _vm.fetch($event)\n      },\n      \"input\": function($event) {\n        if ($event.target.composing) { return; }\n        _vm.url = $event.target.value\n      }\n    }\n  }), _vm._v(\" \"), _c('button', {\n    staticClass: \"cf-btn-primary\",\n    on: {\n      \"click\": _vm.fetch\n    }\n  }, [_vm._v(\"\\n      Fetch\\n    \")])]), _vm._v(\" \"), _c('json-editor', {\n    attrs: {\n      \"initial-data\": _vm.data,\n      \"disabled\": \"id,slug,url,type\"\n    },\n    on: {\n      \"change\": _vm.update\n    }\n  })], 1)\n},staticRenderFns: []}\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/vue-loader/lib/template-compiler.js?id=data-v-b4b541ce!./~/vue-loader/lib/selector.js?type=template&index=0!./src/App.vue\n// module id = 80\n// module chunks = 2"],"sourceRoot":""}